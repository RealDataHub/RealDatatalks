<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration Form</title>
  <style>
    /* Styling for default placeholder values */
    .placeholder {
      font-style: italic;
      color: grey;
    }
  </style>
</head>
<body>
  <!-- Contact Form -->
  <div class="col-xl-4 col-lg-5">
    <div class="ud-contact-form-wrapper">
      <h2>Ask Us</h2>
      <form id="contactForm" method="POST">
        
        <!-- Salutation -->
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="salutation" class="form-label">Salutation</label>
            <select class="form-select" id="salutation" name="salutation" required>
              <option value="Mr." selected>Mr.</option>
              <option value="Sheikh">Sheikh</option>
              <option value="Hon.">Hon.</option>
              <option value="Ms.">Ms.</option>
              <option value="Mrs.">Mrs.</option>
              <option value="Sir">Sir</option>
              <option value="Dr.">Dr.</option>
              <option value="Prof.">Prof.</option>
            </select>
          </div>
          <div class="col-md-6">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control placeholder" id="name" name="name" 
                   value="Charles" required>
          </div>
        </div>

        <!-- Surname -->
        <div class="mb-3">
          <label for="surname" class="form-label">Surname</label>
          <input type="text" class="form-control placeholder" id="surname" name="surname" 
                 value="Cabernet y Agriorifiko" required>
        </div>

        <!-- Main Question -->
        <div class="mb-3">
          <label for="mainQuestion" class="form-label">Main Question</label>
          <textarea class="form-control placeholder" id="mainQuestion" name="main_question" rows="3" required>looking for legal support to buy a villa</textarea>
        </div>

        <!-- Topic -->
        <div class="mb-3">
          <label for="topic" class="form-label">Topic</label>
          <select class="form-select" id="topic" name="topic" required>
            <option value="">Choose...</option>
            <option value="immigration and visa">Visas and Taxes</option>
            <option value="business establishment or purchase">Establish Company in Spain</option>
            <option value="search and buy real estate" selected>Buy Property</option>
            <option value="sell purchase">Sell Property</option>
            <option value="mortgage and broker">Mortgage</option>
            <option value="design">Design and Renovation</option>
            <option value="renovation">Renovation</option>
            <option value="other">Property Maintenance</option>
          </select>
          <input type="text" class="form-control mt-2" id="otherTopic" name="other_topic" 
                 placeholder="Please specify" style="display: none;">
        </div>

        <!-- Phone -->
        <div class="mb-3">
          <label for="phone" class="form-label">Phone</label>
          <input type="tel" class="form-control placeholder" id="phone" name="phone" 
                 value="+33658235871" required>
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control placeholder" id="email" name="email" 
                 value="cabernetXXXi@yahoo.fr" required>
        </div>

        <!-- Submit Button -->
        <div class="form-group">
          <button type="submit" class="btn btn-primary">Submit</button>
          <div id="display_error" style="color: red;"></div>
        </div>
      </form>
    </div>
  </div>

<!-- Script -->
  <script>
    const form = document.getElementById('contactForm');
    const scriptURL = 'https://script.google.com/macros/s/AKfycbycCEABZ75veoNniMdVrhAzQRKxTB5nQ_wFK8WqstdYeKMw3I-Ma_cuBX_gWQv9c3KR/exec';

  form.addEventListener('submit', (e) => {
  e.preventDefault(); // Prevent default form submission

  const formData = new FormData(form);
  const urlEncodedData = new URLSearchParams(formData).toString();

  fetch(scriptURL, { 
    method: 'POST',
    body: urlEncodedData,  // Send data as URL-encoded format
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded'
    }
  })
  .then(response => {
    alert('Form submitted successfully!');
    form.reset(); // Reset the form after submission
  })
  .catch(error => {
    alert('Error submitting the form: ' + error.message);
  });
});

    
  </script>
	<!-- End Script -->
</body>
</html>
